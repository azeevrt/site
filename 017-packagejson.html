<!DOCTYPE html>
<html lang="ru">
<head>
        <meta charset="utf-8" />
        <title>017. Package.json</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <meta http-equiv="imagetoolbar" content="false">
        <link rel="stylesheet" href="./theme/products.css" />
</head>

<body id="page-top" class=" js">
  <div class="grid">
    <header id="header" class="l-12 l-fix center vline header">
      <strong><i style="display: none;"></i><a href="./">Azeevrt</a> <i style="font-size: 0.5em">For everyone and for me</i></strong>

      <!-- 

      <strong><a href="#">Azeervt</a>
          <a href="/mail/">Email</a></strong>
        -->
      <div class="module left l-0 m-1 s-1 fix">
        <span class="l s-0 white service-light-hover burger icon service-light" data-toggle-nodes="body{toggle-nav},
        .header .service-light-hover.burger.icon{service-light}" tabindex="0">Show/hide navigation</span>
        <span class="l m-0 white service-light-hover burger icon service-light" data-toggle-nodes="body{toggle-nav},
      .header .service-light-hover.burger.icon{service-light}" tabindex="0">Show/hide navigation</span>
      </div>
      <div class="container right l-1 fix">
        <div class="module l-1 fix left align-center">
        <!--
        <a data-tracking-contentposition="header.icon.login" class="l s-0 white service-light-hover show-text person icon" href="#" aria-label="Login"></a>

        <a data-tracking-contentposition="header.icon.login" class="l l-0 m-0  white person icon" href="#" aria-label="Login"></a>
        -->
        </div>
      </div>
    </header>
    <nav class="fullwidth center navigation">
        <ul class="l-12 fix">
          <li><a href="./" data-title="Azeevrt">
              <span class="l l-0 service home icon"></span>
              <span class="m s-0 m-0 inactive service-hover home icon"></span></a>
              <span class="l-0 m inactive service-hover close icon" data-unset-nodes="body{toggle-nav}, .header .burger.icon{service}"></span>
          </li>
          <!-- <li>
            <span data-hide-nodes="span[data-hide-parent]{current}" data-hide-parent=".navigation > ul > li" data-toggle-nodes=".navigation span.current{open}, .navigation span:not(.current).open{open}, .navigation .current{current}">
              Навигация
                <span class="m-0 s-0 s inactive down icon"></span>
                <span class="l-0 m inactive down icon"></span>
                <span class="m-0 s-0 s service down icon"></span>
                <span class="l-0 m service down icon"></span>
                <span class="m-0 s-0 s white up icon"></span>
            </span>
             
          </li> -->
              <li>
                  <a href="./category/kozarada.html">Kozarada</a>
                  
              </li>
              <li class="active">
                  <a href="./category/nodejs.html">Node.js</a>
                  
              </li>
      </ul>
    </nav>
    
<div class="container l-12 center ">
      <div class="container l-12 fix">
          <div class="container l-12 fix group-headline">
              <h2 class="size-7 module l-12 fix align-center">017. Package.json</h2>
<footer class="post-info">
        <abbr class="published" title="2020-08-10T18:00:09+02:00">
                Published: Пн 10 Август 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="./author/vrt.html">VRT</a>
        </address>
<p>In <a href="./category/nodejs.html">Node.js</a>.</p>

</footer><!-- /.post-info -->          </div>
          <div class="module l-12 fix vspace-s">                                
              <h3>17. Package.json</h3>
<p>При работе с JavaScript и Node.js вы наверняка встретите файл package.json. </p>
<p>Что это такое? Что вы должны о не знать? И что вы можете с ним делать? </p>
<p>package.json - это своего рода манифест проекта. Он может делать много вещей, совершенно не связанных между собой. Он, например, может служить главным файлом для настроек используемых инструментов. В нем также хранятся названия и версии всех установленных пакетов (эта информация используется npm и yarn). </p>
<h5>Структура файла</h5>
<p>Вот пример package.json:
<code>{}</code></p>
<p>Как видите, он пустой. К содержанию package.json не предъявляется никаких требований. Единственным требованием является его формат (JSON), в противном случае, программы не смогут получить к нему доступ. </p>
<p>Если вы создаете Node.js-пакет, который планируете распространять через npm, ситуация кардинально меняется. В этом случае вам необходимо добавить свойства, которые помогут другим людям использовать пакет. Мы рассмотрим чуть это позже. </p>
<p>Вот еще один пример package.json:
<code>"name": "test-project"</code></p>
<p>Здесь мы определили название пакета или приложения, находящего в той же директории, что и package.json. </p>
<p>Вот пример более сложного package.json, позаимствованного из Vue.js-приложения:
<code>{
  "name": "test-project",
  "version": "1.0.0",
  "description": "A Vue.js project",
  "main": "src/main.js",
  "private": true,
  "scripts": {
    "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",
    "start": "npm run dev",
    "unit": "jest --config test/unit/jest.conf.js --coverage",
    "test": "npm run unit",
    "lint": "eslint --ext .js,.vue src test/unit",
    "build": "node build/build.js"
  },
  "dependencies": {
    "vue": "^2.5.2"
  },
  "devDependencies": {
    "autoprefixer": "^7.1.2",
    "babel-core": "^6.22.1",
    "babel-eslint": "^8.2.1",
    "babel-helper-vue-jsx-merge-props": "^2.0.3",
    "babel-jest": "^21.0.2",
    "babel-loader": "^7.1.1",
    "babel-plugin-dynamic-import-node": "^1.2.0",
    "babel-plugin-syntax-jsx": "^6.18.0",
    "babel-plugin-transform-es2015-modules-commonjs": "^6.26.0",
    "babel-plugin-transform-runtime": "^6.22.0",
    "babel-plugin-transform-vue-jsx": "^3.5.0",
    "babel-preset-env": "^1.3.2",
    "babel-preset-stage-2": "^6.22.0",
    "chalk": "^2.0.1",
    "copy-webpack-plugin": "^4.0.1",
    "css-loader": "^0.28.0",
    "eslint": "^4.15.0",
    "eslint-config-airbnb-base": "^11.3.0",
    "eslint-friendly-formatter": "^3.0.0",
    "eslint-import-resolver-webpack": "^0.8.3",
    "eslint-loader": "^1.7.1",
    "eslint-plugin-import": "^2.7.0",
    "eslint-plugin-vue": "^4.0.0",
    "extract-text-webpack-plugin": "^3.0.0",
    "file-loader": "^1.1.4",
    "friendly-errors-webpack-plugin": "^1.6.1",
    "html-webpack-plugin": "^2.30.1",
    "jest": "^22.0.4",
    "jest-serializer-vue": "^0.3.0",
    "node-notifier": "^5.1.2",
    "optimize-css-assets-webpack-plugin": "^3.2.0",
    "ora": "^1.2.0",
    "portfinder": "^1.0.13",
    "postcss-import": "^11.0.0",
    "postcss-loader": "^2.0.8",
    "postcss-url": "^7.2.1",
    "rimraf": "^2.6.0",
    "semver": "^5.3.0",
    "shelljs": "^0.7.6",
    "uglifyjs-webpack-plugin": "^1.1.1",
    "url-loader": "^0.5.8",
    "vue-jest": "^1.0.2",
    "vue-loader": "^13.3.0",
    "vue-style-loader": "^3.0.1",
    "vue-template-compiler": "^2.5.2",
    "webpack": "^3.6.0",
    "webpack-bundle-analyzer": "^2.9.0",
    "webpack-dev-server": "^2.9.1",
    "webpack-merge": "^4.1.0"
  },
  "engines": {
    "node": "&gt;= 6.0.0",
    "npm": "&gt;= 3.0.0"
  },
  "browserslist": ["&gt; 1%", "last 2 versions", "not ie &lt;= 8"]
}</code></p>
<p>Здесь много всего:</p>
<ul>
<li>name - название приложения/пакета</li>
<li>version - версия приложения/пакета</li>
<li>description - краткое описание приложения/пакета</li>
<li>main - главный файл (точка входа) приложения</li>
<li>private - значение true предотвращает случайную публикацию приложения в npm</li>
<li>scripts - набор скриптов (команд), которые можно запускать (выполнять)</li>
<li>dependencies - зависимости проекта</li>
<li>devDependencies - зависимости проекта, используемые в целях разработки</li>
<li>engines - версии, на которых работает приложение/пакет</li>
<li>browserlist - поддерживаемые браузеры (и их версии)</li>
</ul>
<p>Все эти свойства используются npm. </p>
<h5>Свойства</h5>
<p>В этом разделе мы поговорим о некоторых свойствах, которые вы можете использовать. Мы будем использовать термин "пакет", однако большая часть из сказанного также справедлива по отношению к приложениям. </p>
<p>Большинство свойств нужны для публикации пакета в npm, некоторые - для взаимодействия с пакетом. </p>
<h5>Название (имя)</h5>
<p>Определяет название пакета. </p>
<p>Например: 
<code>"name": "test-project"</code></p>
<p>Имя не должно превышать 214 символов, не должно содержать пробелов, может состоять только из строчных букв (нижний регистр), дефисов (-) и нижнего подчеркивания (_). </p>
<p>Это обусловлено тем, что при публикации в npm пакету присваивается URL на основе имени. </p>
<p>Если пакет размещен на GitHub, хорошей практикой считается указание ссылки на репозиторий. </p>
<h5>Автор</h5>
<p>Определяет автора пакета. </p>
<p>Например: 
<code>{
    "author": "Joe (https://whatever.com)"
}</code></p>
<p>или так:
<code>{
  "author": {
    "name": "Joe",
    "email": "joe@whatever.com",
    "url": "https://whatever.com"
  }
}</code></p>
<h5>Соавторы</h5>
<p>Определяет одного или более соавторов пакета. Данное свойство представляет собой массив из строк. </p>
<p>Например:
<code>{
  "contributors": ["Joe (https://whatever.com)"]
}</code></p>
<p>или так: 
<code>{
  "contributors": [
    {
      "name": "Joe",
      "email": "joe@whatever.com",
      "url": "https://whatever.com"
    }
  ]
}</code></p>
<h5>Ошибки</h5>
<p>Определяет ссылку на инструкцию по решению распространенных проблем - трекер ошибок (issue tracker) GitHub. </p>
<p>Например:
<code>{
  "bugs": "https://github.com/whatever/package/issues"
}</code></p>
<h5>Домашняя страница</h5>
<p>Определяет адрес домашней страницы. </p>
<p>Например:
<code>{
  "homepage": "https://whatever.com/package"
}</code></p>
<h5>Версия</h5>
<p>Определяет текущую версию пакета. </p>
<p>Например: 
<code>"version": "1.0.0"</code></p>
<p>Данное свойство следует стандарту семантического версионирования. Это означает, что оно всегда должно состоять из трех чисел, разделенных точками: x.x.x. </p>
<p>Первая цифра - мажорная (основная, главная) версия, вторая - минорная, третья - патч. </p>
<p>Каждая цифра имеет определенный смысл: обновление с целью устранения ошибок - это патч, релиз обратно совместимых изменений - это минорный релиз, мажорный релиз может означать несовместимые с предыдущей версией изменения. </p>
<h5>Лицензия</h5>
<p>Определяет лицензию пакета. </p>
<p>Например: 
<code>"license": "MIT"</code></p>
<h5>Ключевые слова</h5>
<p>Данное свойство представляет собой массив ключевых слов, ассоциируемых с пакетом. </p>
<p>Например:
<code>"keywords": [
  "email",
  "machine learning",
  "ai"
]</code></p>
<p>Они помогают людям в поиске конкретного пакета. </p>
<h5>Описание</h5>
<p>Определяет краткое описание пакета. </p>
<p>Например: 
<code>"description": "A package to work with strings"</code></p>
<p>При публикации пакета в npm данное свойство помогает людям понять, для чего нужен пакет. </p>
<h5>Репозиторий</h5>
<p>Определяет, где находится исходный код пакета. </p>
<p>Например:
<code>"repository": "github:whatever/testing",</code></p>
<p>Обратите внимание на префикс github. Существует и другие подобные сервисы:
<code>"repository": "gitlab:whatever/testing",</code>
<code>"repository": "bitbucket:whatever/testing",</code></p>
<p>Вы также можете определить систему контроля версий:
<code>"repository": {
  "type": "git",
  "url": "https://github.com/whatever/testing.git"
}</code></p>
<p>Вы можете указать несколько систем контроля версий:
<code>"repository": {
  "type": "svn",
  "url": "..."
}</code></p>
<h5>main</h5>
<p>Определет главный файл (точку входа) пакета. </p>
<p>При импорте пакета в приложение, именно в этом файле приложение будет искать экспортируемые модули. </p>
<p>Например: 
<code>"main": "src/main.js"</code></p>
<h5>private</h5>
<p>Установка данному свойству значения true предотвращает случайную публикацию пакета в npm. </p>
<p>Например: 
<code>"private": true</code></p>
<h5>scripts</h5>
<p>Определяет список команд (скриптов), которые можно выполнять (запускать). </p>
<p>Например: 
<code>"scripts": {
  "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",
  "start": "npm run dev",
  "unit": "jest --config test/unit/jest.conf.js --coverage",
  "test": "npm run unit",
  "lint": "eslint --ext .js,.vue src test/unit",
  "build": "node build/build.js"
}</code></p>
<p>Эти скрипты являются приложениями командной строки. Вы можете запускать их с помощью npm run XXXX или yarn run XXXX, где XXXX - это название команды. Например: npm run dev. </p>
<p>В качестве названия команды можно использовать любое имя, скрипт выполнит все, что вы в нем укажете. </p>
<h5>Зависимости (dependencies)</h5>
<p>Определяет список зависимостей пакета. </p>
<p>При установке пакета с помощью npm или yarn: 
<code>npm install yarn add</code></p>
<p>запись об этом пакете будет автоматически добавлена в рассматриваемое свойство. </p>
<p>Например: 
<code>"dependencies": {
  "vue": "^2.5.2"
}</code></p>
<h5>devDependencies</h5>
<p>Определяет список зависимостей пакета, используемых при разработке. </p>
<p>Они отличаются от dependencies, поскольку устанавливаются только на компьютере разработчика, и не попадают в продакшн. </p>
<p>При установке пакета с помощью npm или yarn:
<code>npm install --save-dev yarn add --save-dev</code></p>
<p>запись о нем автоматически добавляется в рассматриваемое свойство. </p>
<p>Например:
<code>"devDependencies": {
  "autoprefixer": "^7.1.2",
  "babel-core": "^6.22.1"
}</code></p>
<h5>engines</h5>
<p>Определяет, на каких версиях Node.js или других инструментов работает пакет/приложение. </p>
<p>Например:
<code>"engines": {
  "node": "&gt;= 6.0.0",
  "npm": "&gt;= 3.0.0",
  "yarn": "^0.13.0"
}</code></p>
<h5>browserlist</h5>
<p>Определяет список поддерживаемых браузеров (и их версий). Эта информация используется Babel, Autoprefixer и другими инструментами для создания полифилов и обеспечения совместимости с указанными браузерами. </p>
<p>Например: 
<code>"browserslist": [
  "&gt; 1%",
  "last 2 versions",
  "not ie &lt;= 8"
]</code></p>
<p>Данная настройка означает, что вы хотите поддерживать две последние версии всех браузеров, которыми пользуется более 1% людей по статистике <a href="https://caniuse.com/">CanIUse</a>, за исключением IE8 и более старых версий. </p>
<h5>Специальные свойства</h5>
<p>package.json может содержать специальные свойства для таких инструментов, как Babel, ESLint и т.п. </p>
<p>Каждый из этих инструментов имеет собственные свойства, например, eslintConfig, babel и проч. Подробности о специальных свойствах смотрите в соответствующей документации. </p>
<h5>Версии пакета</h5>
<p>В приведенных выше примерах вы наверняка заметили записи вроде этих: <code>~3.0.0</code>, <code>^0.13.0</code>. Что они означают? И какие еще спецификаторы версий можно использовать? </p>
<p>Данные спецификаторы используются для определения условий обновления. </p>
<p>Правила следующие: </p>
<ul>
<li><code>~</code> - запись <code>~0.13.0</code> означает, что допустимы лишь патчевые обновления, т.е. релиз 0.13.1 допустим, а релиз 0.14.0 нет</li>
<li><code>^</code> - запись <code>^0.13.0</code> означает, что допустимы патчевые и минорные обновления</li>
<li><code>\*</code> - запись <code>\*</code> означает, что допустимы любые обновления</li>
<li><code>\&gt;</code> - допустимы любые новые версии</li>
<li><code>\&gt;=</code> - допустимы аналогичная или более новые версии</li>
<li><code>&lt;=</code> - допустимы аналогичная или более старые версии</li>
<li><code>&lt;</code> - допустимы любые более старые версии</li>
</ul>
<p>Вот еще парочка правил:</p>
<ul>
<li>без символа в начале - допустима только указанная версия</li>
<li>latest - допустима только последняя версия</li>
</ul>
<p>Указанные символы можно комбинировать различными способами, например: <code>1.0.0 || \&gt;=1.1.0 &lt;1.2.0</code>. </p>          </div>
      </div>
  </div>

    <footer id="footer">
      <div class="container l-12 backdrop-c2-light50 inverted vspace-s">
        <div class="container l-12 fix center">
        	<h2>Р</h2>
	          <ul class="inline-block text align-center list">
	                <li><a href="https://github.com/azeevrt/site.git" target="_top">репозиторий</a></li>
	          </ul><!-- /.blogroll -->
          	<h2>A</h2>
	          <ul class="inline-block text align-center list">
                    <li><a href="https://azeevrt.github.io/site">Azeevrt /site/</a></li>
	          </ul><!-- /.social -->
        </div>
      </div>
    </footer>
    <a class="scroll-to-top rounded js-scroll-trigger button" href="#">
      <i class="fas fa-angle-up"></i>
    </a>
  </div>

<!--    -->


<script src="./theme/products.js"></script>
<script src="./theme/jquery-2.2.4.min.js"></script>

<script type="text/javascript">


    // Smooth scrolling using jQuery easing
    $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function() {
      if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
        if (target.length) {
          $('html, body').animate({
            scrollTop: target.offset().top
          }, 1000, "easeInOutExpo");
          return false;
        }
      }
    });

    // Scroll to top button appear
    $(document).scroll(function() {
      var scrollDistance = $(this).scrollTop();
      if (scrollDistance > 100) {
        $('.scroll-to-top').fadeIn();
      } else {
        $('.scroll-to-top').fadeOut();
      }
    });

    $('.akkordeon').on('click', 'h2, h3, h4, strong', function () {
        var akk = $(this).parent().parent();
        var action;
        (!akk.attr('open')) ? action = 'expand': action = 'reduce';
        var section = 'page.module.part.' + action;

    });

    $('span.link-base:not([data-hide-nodes=""])').on('click', function () {
        var expandable = $(this);
        var count = expandable.closest('[data-tracking-count]').data('tracking-count');
        var eventposition = expandable.closest('[data-tracking-eventposition]').data('tracking-eventposition');
        var contentposition = expandable.closest('[data-tracking-contentposition]').data('tracking-contentposition');

        trackExpandable('page.module.part.expand', count, eventposition, contentposition);
    });

    $('span.close:not([data-hide-nodes=""])').on('click', function () {
        var expandable = $(this);
        if(expandable.closest('[data-tracking-count]').data('tracking-count') !== 2) {
            var count = expandable.closest('[data-tracking-count]').data('tracking-count');
            var eventposition = expandable.closest('[data-tracking-eventposition]').data('tracking-eventposition');
            var contentposition = expandable.closest('[data-tracking-contentposition]').data('tracking-contentposition');

            trackExpandable('page.module.part.reduce', count, eventposition, contentposition);
        }
    });

    $('.navigation > ul > li[data-unset-nodes="#empty"] span').on('click', function () {
        var navExpandable = $(this);
        var navAction;
        (!navExpandable.hasClass('open')) ? navAction = 'expand' : navAction = 'reduce';
        var section = 'page.navigation.' + navAction;
        var count = navExpandable.closest('[data-tracking-count]').data('tracking-count');
        var eventposition = navExpandable.closest('[data-tracking-eventposition]').data('tracking-eventposition');
        var contentposition = navExpandable.closest('[data-tracking-contentposition]').data('tracking-contentposition');

        trackExpandable(section, count, eventposition, contentposition);
    });

    // home-button, screenSize < 980px
    $('.header > div > span').on('click', function () {
        var navExpandable = $(this);
        var navAction;
        (!navExpandable.hasClass('service')) ? navAction = 'expand': navAction = 'reduce';
        var section = 'page.navigation.home.' + navAction;

        trackExpandable(section, 2, 2, 'header.menu');
    });

    $('.navigation > ul > li span.close.icon').on('click', function () {
        trackExpandable('page.navigation.home.reduce', 2, 2, 'header.menu');
    });

</script>
</body>
</html>