### 34\. Event Emitter (обработчик событий)

Если вы работали с JavaScript в браузере, то знаете, что большая часть взаимодействия с пользователем осуществляется через обработку событий: клики мышкой, нажатие клавиш клавиатуры, движение мышки и т.д. 

На стороне сервера Node.js предоставляет нам возможность создания похожей системы с помощью [модуля events][anchor0]. 

Этот модуль, в частности, предоставляет класс EventEmitter, который используется для обработки событий. 

Он инициализируется следующим образом: 
`
const EventEmitter = require('events')
    const eventEmitter = new EventEmitter()
`

Этот объект, среди прочего, содержит методы on и emit. 

* emit используется для регистрации события
* on используется для добавления колбека, вызываемого при возникновении события

Давайте, например, создадим событие start, при возникновении которого будет выводиться сообщение в консоль: 
`
eventEmitter.on('start', () => {
    console.log('started')
})
`

При запуске
`
eventEmitter.emit('start')
`

запускается обработчик события и сообщение выводится в консоль. 

Вы можете передавать обработчику событий аргументы во втором параметре emit(): 


    eventEmitter.on('start', number => {
        console.log(\\`started ${number}\\`)
    })

    eventEmitter.emit('start', 23)


Несколько аргументов: 


    eventEmitter.on('start', (start, end) => {
        console.log(\\`started from ${start} to ${end}\\`)
    })

    eventEmitter.emit('start', 1, 100)


Объект EventEmitter также содержит другие методы, такие как: 

* once(): добавляет разовый обработчик
* removeListener() / off(): удаляет определенный обработчик
* removeAllListeners(): удаляет все обработчики


[anchor0]: https://nodejs.org/api/events.html

